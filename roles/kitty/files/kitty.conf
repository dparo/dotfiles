# vi: ft=config

# term xterm-256color


font_family      JetBrainsMono Nerd Font
bold_font        auto
italic_font      auto
bold_italic_font auto

font_size 10.0
disable_ligatures always

cursor_shape block
cursor_blink_interval 0
cursor_stop_blinking_after 10.0

wheel_scroll_multiplier 3.0
touch_scroll_multiplier 3.0
scrollback_lines 10000
scrollback_pager_history_size 0

mouse_hide_wait 3.0
url_style curly
open_url_with default
copy_on_select no

strip_trailing_spaces smart

focus_follows_mouse no


enable_audio_bell no
visual_bell_duration 0.0
window_alert_on_bell yes
bell_on_tab yes


remember_window_size  yes
initial_window_width  640
initial_window_height 400
window_padding_width 0.0
placement_strategy center
hide_window_decorations no
resize_debounce_time 0.2
resize_draw_strategy static


tab_bar_edge bottom
tab_bar_margin_width 0.0
tab_bar_style separator
tab_bar_min_tabs 2
tab_switch_strategy previous
tab_separator " â”‡ "
tab_title_template {title}


background_opacity 1.0
dynamic_background_opacity no
include ./themes/atelier-dune.conf
# include ./themes/catppuccin.conf
# include ./themes/tokyonight_night.conf
# include ./themes/nightfox.conf
# include ./themes/kanagawa.conf
include ./themes/tokyonight_storm.conf
# include ./themes/material_darker.conf
# include ./themes/everforest.conf
# include ./themes/nord.conf


shell zsh
close_on_child_death yes
allow_remote_control no
update_check_interval 24
clipboard_control write-clipboard write-primary no-append

# Default all global shortcuts (keyboard + mouse)
# clear_all_mouse_actions yes
clear_all_shortcuts yes

kitty_mod ctrl+shift

##
## Shell integration
##
# Disable prompt-mark since it was buggy when resizing the terminal, on a command refreshing lines such as apt, pacman deleted the content
# shell_integration no-cursor
shell_integration no-prompt-mark no-cursor

##
## Confirm OS close plays well with shell integration, which must be enabled
## Otherwise, when closing kitty even at a shell prompt annoyingly requests to confirm the close
##
## Since we disabled prompt-mark which is required for a nice prompt on close experience,
## we disable also entirely the prompt for close
##
# -1 means: Prompt for close if the running command is not the shell (requires shell_integration prompt_mark)
# 0: disabled it
confirm_os_window_close 0


map kitty_mod+p scroll_to_prompt -1
map kitty_mod+n scroll_to_prompt +1


map ctrl+shift+c         copy_to_clipboard
map ctrl+shift+v         paste_from_clipboard

map kitty_mod+delete            show_scrollback
map kitty_mod+page_up           scroll_page_up
map kitty_mod+page_down         scroll_page_down
map kitty_mod+end               scroll_end
map kitty_mod+home              scroll_home


# enabled_layouts splits:split_axis=horizontal
# enabled_layouts tall:bias=50;full_size=1;mirrored=false
enabled_layouts splits:split_axis=horizontal

map kitty_mod+enter   launch --cwd=current --type=os-window
map kitty_mod+t  new_tab_with_cwd
map kitty_mod+\  launch --cwd=current --location=vsplit
map kitty_mod+-  launch --cwd=current --location=hsplit

map kitty_mod+] next_window
map kitty_mod+[ previous_window

map ctrl+=  change_font_size all +0.5
map ctrl+-  change_font_size all -0.5
map ctrl+0  change_font_size all 0


# Mouse mappings
mouse_map right press ungrabbed mouse_select_command_output
