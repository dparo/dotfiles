---

- name: "Download and unpack NW.js {{ nwjs_version }}"
  ansible.builtin.unarchive:
    src: "https://dl.nwjs.io/v{{ nwjs_version }}/nwjs-sdk-v{{ nwjs_version }}-linux-x64.tar.gz"
    dest: "/opt"
    remote_src: yes
    owner: root
  become: True
  become_user: root
  tags:
    - nwjs

- name: Symlink binaries
  ansible.builtin.file:
    src: "/opt/nwjs-sdk-v{{ nwjs_version }}-linux-x64/{{ item }}"
    dest: "/usr/local/bin/{{ item }}"
    state: link
  become: True
  loop:
    - nw
    - nwjc
  tags:
    - nwjs
